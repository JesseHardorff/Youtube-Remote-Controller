<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no,initial-scale=1.0" />
    <title>YouTube Afstandsbediening</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/socket.io/socket.io.js"></script>
    <style>
      /* Voorkom zoom op iOS */
      * {
        touch-action: manipulation;
      }
      button {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;
      }
      /* Styling voor de volume slider */
      input[type="range"] {
        -webkit-appearance: none;
        width: 100%;
        height: 10px;
        border-radius: 5px;
        background: #ffffff;
        outline: none;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        border: 1px solid #e2e8f0;
      }
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #ef4444;
        cursor: pointer;
        border: 2px solid #ffffff;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }
      input[type="range"]::-moz-range-thumb {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #ef4444;
        cursor: pointer;
        border: 2px solid #ffffff;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body class="bg-gray-200 p-3 font-sans">
    <div class="max-w-md mx-auto">
      <!-- Titel -->
      <h1 class="text-2xl font-bold text-center text-red-500 mb-4 pb-2 border-b border-red-500">
        YouTube Afstandsbediening
      </h1>
      <!-- Bedieningsknoppen -->
      <div class="grid grid-cols-2 gap-2 mb-6">
        <button
          id="playPauseBtn"
          onclick="sendCommand('playPause')"
          class="bg-red-500 text-white py-3 px-3 rounded text-lg shadow-sm col-span-2"
        >
          Afspelen
        </button>

        <!-- Skip knoppen naast elkaar in een container -->
        <div class="col-span-2 grid grid-cols-2 gap-2">
          <button
            onclick="sendCommand('skipBackward')"
            class="bg-red-500 text-white py-3 px-3 rounded text-lg shadow-sm"
          >
            -5 sec
          </button>
          <button
            onclick="sendCommand('skipForward')"
            class="bg-red-500 text-white py-3 px-3 rounded text-lg shadow-sm"
          >
            +5 sec
          </button>
        </div>

        <button
          id="muteBtn"
          onclick="sendCommand('toggleMute')"
          class="bg-red-500 text-white py-3 px-3 rounded text-lg shadow-sm col-span-2"
        >
          Geluid Uit
        </button>
      </div>

      <!-- Volume Slider -->
      <div class="mb-6 bg-white p-3 rounded-lg shadow-sm">
        <label for="volumeSlider" class="block text-sm font-medium text-gray-700 mb-2">Volume</label>
        <input
          type="range"
          id="volumeSlider"
          min="0"
          max="100"
          value="100"
          class="w-full"
          oninput="setVolume(this.value)"
        />
        <div class="flex justify-between mt-1 text-xs text-gray-500">
          <span>0%</span>
          <span>50%</span>
          <span>100%</span>
        </div>
      </div>

      <!-- Zoekbalk -->
      <div class="flex flex-col gap-2 mb-5">
        <input
          type="text"
          id="searchQuery"
          placeholder="Zoek naar video's..."
          class="px-3 py-2 border border-gray-300 rounded"
        />
        <button onclick="searchVideos()" class="bg-blue-500 text-white py-2 px-4 rounded">Zoeken</button>
      </div>
      <!-- Videolijst waar zoekresultaten verschijnen -->
      <div id="videoList" class="grid grid-cols-1 gap-3"></div>
    </div>
    <script src="remote.js"></script>
    <!-- Script om videoItems te stylen met Tailwind -->
    <script>
      // Update de displaySearchResults functie om eenvoudigere Tailwind classes te gebruiken
      function displaySearchResults(videos) {
        const videoList = document.getElementById("videoList");
        videoList.innerHTML = "";
        videos.forEach((video) => {
          const videoElement = document.createElement("div");
          videoElement.className = "bg-white rounded border border-gray-300";
          videoElement.innerHTML = `
            <h3 class="p-2 text-sm font-medium overflow-hidden">${video.snippet.title}</h3>
            <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}" class="w-full" />
            <button onclick="selectVideo('${video.id.videoId}')"
                    class="w-full py-2 bg-blue-500 text-white">
              Selecteer Video
            </button>
          `;
          videoList.appendChild(videoElement);
        });
      }
    </script>
  </body>
</html>
